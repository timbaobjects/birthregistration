{% extends 'backend/_layout.html' %}
{% block content %}
<div class="row">
  <div class="col">
    <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-1 pb-1 mb-1 border-bottom">
      <h3>{{ page_title }}</h3>
    </div>
  </div>
</div>
<div class="row">
  <div class="col-sm-10 offset-sm-1 col-md-8 offset-md-2 py-3">
    <form method="post">
      {% csrf_token %}
      <div class="card">
        <div class="card-body">
          <div class="row mb-3">
            <label for="{{ form.username.id_for_label }}" class="col-sm-4 col-form-label">Username</label>
            <div class="col-sm-8">
              <input type="text" class="form-control" name="{{ form.username.name }}" id="{{ form.username.id_for_label }}">
            </div>
          </div>
          <div class="row mb-3">
            <label for="{{ form.email.id_for_label }}" class="col-sm-4 col-form-label">Email</label>
            <div class="col-sm-8">
              <input type="email" class="form-control" name="{{ form.email.name }}" id="{{ form.email.id_for_label }}">
            </div>
          </div>
          <div class="row mb-3">
            <label for="{{ form.first_name.id_for_label }}" class="col-sm-4 col-form-label">First name</label>
            <div class="col-sm-8">
              <input type="text" class="form-control" name="{{ form.first_name.name }}" id="{{ form.first_name.id_for_label }}">
            </div>
          </div>
          <div class="row mb-3">
            <label for="{{ form.password_confirm.id_for_label }}" class="col-sm-4 col-form-label">Surname</label>
            <div class="col-sm-8">
              <input type="text" class="form-control" name="{{ form.last_name.name }}" id="{{ form.last_name.id_for_label }}">
            </div>
          </div>
          <div class="row mb-3">
            <label for="{{ form.password.id_for_label }}" class="col-sm-4 col-form-label">Password</label>
            <div class="col-sm-8">
              <input type="password" class="form-control" name="{{ form.password.name }}" id="{{ form.password.id_for_label }}">
              <p class="form-text">Enter a new password to change the current password</p>
            </div>
          </div>
          <div class="row mb-3">
            <label for="{{ form.password_confirm.id_for_label }}" class="col-sm-4 col-form-label">Confirm password</label>
            <div class="col-sm-8">
              <input type="password" class="form-control" name="{{ form.password_confirm.name }}" id="{{ form.password_confirm.id_for_label }}">
              <p class="form-text">Repeat the password entered above</p>
            </div>
          </div>
          <div class="row mb-3">
            <div class="col-sm-8 offset-sm-4">
              <div class="form-check">
                <input type="checkbox" name="{{ form.is_active.name }}" id="{{ form.is_active.id_for_label }}" class="form-check-input">
                <label for="{{ form.is_active.id_for_label }}" class="form-check-label">Active?</label>
                <p class="form-text">An inactive user will not be able to use the system.</p>
              </div>
            </div>
          </div>
          <fieldset>
            <legend>Permissions</legend>
            <div class="row mb-3">
              <div class="col-sm-8 offset-sm-4">
                <div class="form-check">
                  <input type="checkbox" name="{{ form.can_add_locations.name }}" id="{{ form.can_add_locations.id_for_label }}" class="form-check-input">
                  <label for="{{ form.can_add_locations.id_for_label }}" class="form-check-label">Can manage BR centres</label>
                </div>
              </div>
            </div>
            <div class="row mb-3">
              <div class="col-sm-8 offset-sm-4">
                <div class="form-check">
                  <input type="checkbox" name="{{ form.can_change_br_reports.name }}" id="{{ form.can_change_br_reports.id_for_label }}" class="form-check-input">
                  <label for="{{ form.can_change_br_reports.id_for_label }}" class="form-check-label">Can manage BR reports</label>
                </div>
              </div>
            </div>
            <div class="row mb-3">
              <div class="col-sm-8 offset-sm-4">
                <div class="form-check">
                  <input type="checkbox" name="{{ form.can_change_dr_reports.name }}" id="{{ form.can_change_dr_reports.id_for_label }}" class="form-check-input">
                  <label for="{{ form.can_change_dr_reports.id_for_label }}" class="form-check-label">Can manage DR reports</label>
                </div>
              </div>
            </div>
            <div class="row mb-3">
              <div class="col-sm-8 offset-sm-4">
                <div class="form-check">
                  <input type="checkbox" name="{{ form.can_change_mnchw_reports.name }}" id="{{ form.can_change_mnchw_reports.id_for_label }}" class="form-check-input">
                  <label for="{{ form.can_change_mnchw_reports.id_for_label }}" class="form-check-label">Can manage MNCHW reports</label>
                </div>
              </div>
            </div>
            <div class="row mb-3">
              <div class="col-sm-8 offset-sm-4">
                <div class="form-check">
                  <input type="checkbox" name="{{ form.can_change_reporters.name }}" id="{{ form.can_change_reporters.id_for_label }}" class="form-check-input">
                  <label for="{{ form.can_change_reporters.id_for_label }}" class="form-check-label">Can manage users</label>
                </div>
              </div>
            </div>
            <div class="row mb-3">
              <div class="col-sm-8 offset-sm-4">
                <div class="form-check">
                  <input type="checkbox" name="{{ form.is_superuser.name }}" id="{{ form.is_superuser.id_for_label }}" class="form-check-input">
                  <label for="{{ form.is_superuser.id_for_label }}" class="form-check-label">Superuser?</label>
                  <p class="form-text">A superuser has access to everything without needing specific access to anything. <span class="text-danger">Use with caution.</span></p>
                </div>
              </div>
            </div>
          </fieldset>
        </div>
        <div class="card-footer">
          <button type="submit" class="btn btn-primary">Save Changes</button>
          <a href="{% url 'users:users_list' %}" class="btn btn-secondary">Cancel</a>
        </div>
      </div>
    </form>
  </div>
</div>
{% endblock content %}